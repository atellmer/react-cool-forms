!function(e,r){"object"==typeof exports&&"object"==typeof module?module.exports=r(require("react")):"function"==typeof define&&define.amd?define("ReactCoolForms",["react"],r):"object"==typeof exports?exports.ReactCoolForms=r(require("react")):e.ReactCoolForms=r(e.React)}(self,(e=>(()=>{"use strict";var r={787:r=>{r.exports=e}},n={};function t(e){var o=n[e];if(void 0!==o)return o.exports;var a=n[e]={exports:{}};return r[e](a,a.exports,t),a.exports}t.n=e=>{var r=e&&e.__esModule?()=>e.default:()=>e;return t.d(r,{a:r}),r},t.d=(e,r)=>{for(var n in r)t.o(r,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:r[n]})},t.o=(e,r)=>Object.prototype.hasOwnProperty.call(e,r),t.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var o={};return(()=>{t.r(o),t.d(o,{Debugger:()=>I,Field:()=>k,Form:()=>F,Repeater:()=>A,useFormState:()=>V});var e=t(787),r=t.n(e),n=function(){return n=Object.assign||function(e){for(var r,n=1,t=arguments.length;n<t;n++)for(var o in r=arguments[n])Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o]);return e},n.apply(this,arguments)},a=function(e){var r="function"==typeof Symbol&&Symbol.iterator,n=r&&e[r],t=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&t>=e.length&&(e=void 0),{value:e&&e[t++],done:!e}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")},u="HAS_REPEATER_VALIDATION_ERROR";function i(e){var r="object"==typeof e,t=r?Array.isArray(e)?function(e,r,n){if(n||2===arguments.length)for(var t,o=0,a=r.length;o<a;o++)!t&&o in r||(t||(t=Array.prototype.slice.call(r,0,o)),t[o]=r[o]);return e.concat(t||Array.prototype.slice.call(r))}([],function(e,r){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var t,o,a=n.call(e),u=[];try{for(;(void 0===r||r-- >0)&&!(t=a.next()).done;)u.push(t.value)}catch(e){o={error:e}}finally{try{t&&!t.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return u}(e),!1):e?n({},e):e:e;return t&&r&&Object.keys(t).forEach((function(e){return t[e]=i(t[e])})),t}function l(e){return"function"==typeof e}function c(){}function f(e){return Object.keys(e).length>0}function s(e,r){return JSON.stringify(e)===JSON.stringify(r)}function d(e){var r,n,t=[],o=Object.keys(e);try{for(var u=a(o),i=u.next();!i.done;i=u.next()){var l=i.value;t.push(e[l])}}catch(e){r={error:e}}finally{try{i&&!i.done&&(n=u.return)&&n.call(u)}finally{if(r)throw r.error}}return t}var v=(0,e.createContext)(null);function y(){var r=(0,e.useContext)(v);if(!r)throw new Error("Context of Form not found!");return r}var p=function(e,r){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var t,o,a=n.call(e),u=[];try{for(;(void 0===r||r-- >0)&&!(t=a.next()).done;)u.push(t.value)}catch(e){o={error:e}}finally{try{t&&!t.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return u},m=function(e,r,n){if(n||2===arguments.length)for(var t,o=0,a=r.length;o<a;o++)!t&&o in r||(t||(t=Array.prototype.slice.call(r,0,o)),t[o]=r[o]);return e.concat(t||Array.prototype.slice.call(r))};function h(r){var n=(0,e.useMemo)((function(){return{fn:r}}),[]);n.fn=r;var t=(0,e.useCallback)((function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return n.fn.apply(n,m([],p(e),!1))}),[]);return t}function b(){var r=p((0,e.useState)(0),2),n=(r[0],r[1]);return{update:(0,e.useCallback)((function(){return n((function(e){return e+1}))}),[])}}function V(r){void 0===r&&(r={detectChanges:function(e){return e}});var n=r.detectChanges,t=y().state,o=b().update,a=t.formValue,u=t.errors,i=t.inProcess,l=t.addSubscriber,c=t.removeSubscriber,f=t.addValidator,s=t.removeValidator,d=t.modify,v=t.validate,p=t.submit,m=t.reset,V=h((function(e){return v(e)})),g=n(a),w=h((function(){n(t.formValue)!==g&&o()}));return(0,e.useEffect)((function(){return l(w),function(){return c(w)}}),[]),{formValue:a,errors:u,inProcess:i,addValidator:f,removeValidator:s,modify:d,validate:V,submit:p,reset:m}}var g=function(){return g=Object.assign||function(e){for(var r,n=1,t=arguments.length;n<t;n++)for(var o in r=arguments[n])Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o]);return e},g.apply(this,arguments)},w=function(e,r,n,t){return new(n||(n=Promise))((function(o,a){function u(e){try{l(t.next(e))}catch(e){a(e)}}function i(e){try{l(t.throw(e))}catch(e){a(e)}}function l(e){var r;e.done?o(e.value):(r=e.value,r instanceof n?r:new n((function(e){e(r)}))).then(u,i)}l((t=t.apply(e,r||[])).next())}))},x=function(e,r){var n,t,o,a,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function i(a){return function(i){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;u;)try{if(n=1,t&&(o=2&a[0]?t.return:a[0]?t.throw||((o=t.return)&&o.call(t),0):t.next)&&!(o=o.call(t,a[1])).done)return o;switch(t=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return u.label++,{value:a[1],done:!1};case 5:u.label++,t=a[1],a=[0];continue;case 7:a=u.ops.pop(),u.trys.pop();continue;default:if(!((o=(o=u.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){u=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){u.label=a[1];break}if(6===a[0]&&u.label<o[1]){u.label=o[1],o=a;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(a);break}o[2]&&u.ops.pop(),u.trys.pop();continue}a=r.call(e,u)}catch(e){a=[6,e],t=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,i])}}},S=function(e,r){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var t,o,a=n.call(e),u=[];try{for(;(void 0===r||r-- >0)&&!(t=a.next()).done;)u.push(t.value)}catch(e){o={error:e}}finally{try{t&&!t.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return u},E=function(e){var r="function"==typeof Symbol&&Symbol.iterator,n=r&&e[r],t=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&t>=e.length&&(e=void 0),{value:e&&e[t++],done:!e}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")};function F(n){var t=this,o=n.name,c=n.initialFormValue,d=n.connectedRef,y=n.validators,p=void 0===y?[]:y,m=n.interrupt,V=n.children,F=n.onValidate,O=n.onChange,P=n.onUnmount,R=n.onLift,k=n.onSubmit,j=b().update,C=S((0,e.useState)(null),2),M=C[0],T=C[1],A=S((0,e.useState)(!1),2),I=A[0],_=A[1],K=(0,e.useMemo)((function(){return{formValue:i(c)}}),[]),L=K.formValue;(0,e.useLayoutEffect)((function(){var e=p.map((function(e){return g(g({},e),{name:o||"ROOT_FORM",getValue:function(e){return e}})}));return e.forEach((function(e){return Q(e)})),function(){e.forEach((function(e){return W(e)}))}}),[]),(0,e.useEffect)((function(){return function(){return l(P)&&P()}}),[]);var N=h((function(e){K.formValue=g({},e),j(),O({formValue:K.formValue})})),U=h((function(e){K.formValue=g({},e);var r=!R;O({formValue:K.formValue}),r&&(Z.formValue=K.formValue,Z.subscribers.forEach((function(e){return e()})))})),q=h((function(){T(null),N(i(c)),setTimeout((function(){Z.resetFns.forEach((function(e){return e()}))}))})),z=h((function(e,r){var n=[],o=Z.validators,a=null;_(!0);var u=function(){return w(t,void 0,void 0,(function(){var t,u,i,c,d,v,y,p,h;return x(this,(function(b){switch(b.label){case 0:b.trys.push([0,5,6,7]),t=E(o),u=t.next(),b.label=1;case 1:return u.done?[3,4]:(i=u.value,c=i.getValue(e),[4,i.method({formValue:e,fieldValue:c})]);case 2:if(d=b.sent(),n.push(d),l(i.onValidate)&&i.onValidate({isValid:d,fieldValue:c,nodeRef:i.nodeRef}),!d&&(a||(a={}),a[i.name]||(a[i.name]=i.message),m||i.interrupt))return[3,4];b.label=3;case 3:return u=t.next(),[3,1];case 4:return[3,7];case 5:return v=b.sent(),p={error:v},[3,7];case 6:try{u&&!u.done&&(h=t.return)&&h.call(t)}finally{if(p)throw p.error}return[7];case 7:return(y=n.every((function(e){return e})))||(a=f(a)?a:null),a!==M&&(H({from:"validate",value:a,skipUpdate:!0}),r?s(a,M)||T(a):H({from:"validate"})),_(!1),F({formValue:e,errors:a,isValid:y}),[2,y]}}))}))};return new Promise((function(e){return w(t,void 0,void 0,(function(){var n,t=this;return x(this,(function(o){switch(o.label){case 0:return r?(n=e,[4,u()]):[3,2];case 1:return n.apply(void 0,[o.sent()]),[3,3];case 2:requestAnimationFrame((function(){return w(t,void 0,void 0,(function(){var r;return x(this,(function(n){switch(n.label){case 0:return r=e,[4,u()];case 1:return r.apply(void 0,[n.sent()]),[2]}}))}))})),o.label=3;case 3:return[2]}}))}))}))})),G=h((function(e){return w(t,void 0,void 0,(function(){var r,n,t,o,a,u,i,l,c,d,v,y,p,m,h,b;return x(this,(function(V){switch(V.label){case 0:r=e.name,n=e.formValue,t=e.validators,o=null,a=g({},M||{}),u=g({},M||{}),V.label=1;case 1:V.trys.push([1,6,7,8]),i=E(t),l=i.next(),V.label=2;case 2:return l.done?[3,5]:(c=l.value,d=c.getValue(n),[4,c.method({formValue:n,fieldValue:d})]);case 3:if(v=V.sent(),u[r]=void 0,!v)return y=c.message,o=c,a[r]=y,u[r]=y,[3,5];V.label=4;case 4:return l=i.next(),[3,2];case 5:return[3,8];case 6:return p=V.sent(),h={error:p},[3,8];case 7:try{l&&!l.done&&(b=i.return)&&b.call(i)}finally{if(h)throw h.error}return[7];case 8:return(m=!o)&&a&&a[r]&&delete a[r],s(a=f(a)?a:null,M)||(T(a),H({from:"validateField",value:u})),F({formValue:n,errors:a,isValid:m}),[2,m]}}))}))})),H=h((function(e){if(l(R))R(e);else{var r={validate:function(){var r=e.skipUpdate,n=e.value;if(r)Z.accumulatedErrors.push(n);else{var t=function(e,r){var n,t,o,u,i={};try{for(var l=a(e),c=l.next();!c.done;c=l.next()){var f=c.value;try{for(var s=(o=void 0,a(Object.keys(f))),d=s.next();!d.done;d=s.next()){var v=d.value;f[v]===r||(i[v]=f[v])}}catch(e){o={error:e}}finally{try{d&&!d.done&&(u=s.return)&&u.call(s)}finally{if(o)throw o.error}}}}catch(e){n={error:e}}finally{try{c&&!c.done&&(t=l.return)&&t.call(l)}finally{if(n)throw n.error}}return i}(Z.accumulatedErrors.filter(Boolean),u),o=f(t)?t:null;Z.accumulatedErrors=[],T(o)}},validateField:function(){var r,n,t,o=e.value,a=Object.keys(o),i=g({},M||{});try{for(var l=E(a),c=l.next();!c.done;c=l.next()){var d=c.value;o[d]!==u&&(i[d]=o[d])}}catch(e){r={error:e}}finally{try{c&&!c.done&&(n=l.return)&&n.call(l)}finally{if(r)throw r.error}}t=i,Object.keys(t).forEach((function(e){void 0===t[e]&&delete t[e]})),s(i=f(i)?i:null,M)||T(i)}};r[e.from]&&r[e.from]()}})),J=h((function(){return w(t,void 0,void 0,(function(){var e;return x(this,(function(r){switch(r.label){case 0:return e=K.formValue,[4,z(e)];case 1:return r.sent()&&k({formValue:e}),[2]}}))}))})),B=h((function(e){Z.subscribers.push(e)})),D=h((function(e){var r=Z.subscribers.findIndex((function(r){return r===e}));-1!==r&&Z.subscribers.splice(r,1)})),Q=h((function(e){Z.validators.push(e)})),W=h((function(e){var r=Z.validators.findIndex((function(r){return r===e}));-1!==r&&Z.validators.splice(r,1)})),X=h((function(e){Z.resetFns.push(e)})),Y=h((function(e){var r=Z.resetFns.findIndex((function(r){return r===e}));-1!==r&&Z.resetFns.splice(r,1)})),Z=(0,e.useMemo)((function(){return{formValue:L,errors:M,inProcess:I,modify:N,notify:U,validate:z,validateField:G,submit:J,reset:q,addSubscriber:B,removeSubscriber:D,addValidator:Q,removeValidator:W,addResetFn:X,removeResetFn:Y,lift:H,subscribers:[],validators:[],resetFns:[],accumulatedErrors:[]}}),[]);Z.formValue=L,Z.errors=M,Z.inProcess=I,Z.modify=N,Z.notify=U,Z.validate=z,Z.validateField=G,Z.submit=J,Z.reset=q,Z.lift=H;var $=(0,e.useMemo)((function(){return{state:Z}}),[L,M]);return(0,e.useImperativeHandle)(d,(function(){return{getFormValue:function(){return Z.formValue},modify:N,validate:z,submit:J,reset:q}})),r().createElement(v.Provider,{value:$},V({formValue:L,errors:M,inProcess:I,validate:z,reset:q,submit:J}))}F.defaultProps={onValidate:function(){},onChange:function(){}};var O=function(){return O=Object.assign||function(e){for(var r,n=1,t=arguments.length;n<t;n++)for(var o in r=arguments[n])Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o]);return e},O.apply(this,arguments)},P=function(e,r,n,t){return new(n||(n=Promise))((function(o,a){function u(e){try{l(t.next(e))}catch(e){a(e)}}function i(e){try{l(t.throw(e))}catch(e){a(e)}}function l(e){var r;e.done?o(e.value):(r=e.value,r instanceof n?r:new n((function(e){e(r)}))).then(u,i)}l((t=t.apply(e,r||[])).next())}))},R=function(e,r){var n,t,o,a,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function i(a){return function(i){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;u;)try{if(n=1,t&&(o=2&a[0]?t.return:a[0]?t.throw||((o=t.return)&&o.call(t),0):t.next)&&!(o=o.call(t,a[1])).done)return o;switch(t=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return u.label++,{value:a[1],done:!1};case 5:u.label++,t=a[1],a=[0];continue;case 7:a=u.ops.pop(),u.trys.pop();continue;default:if(!((o=(o=u.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){u=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){u.label=a[1];break}if(6===a[0]&&u.label<o[1]){u.label=o[1],o=a;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(a);break}o[2]&&u.ops.pop(),u.trys.pop();continue}a=r.call(e,u)}catch(e){a=[6,e],t=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,i])}}};function k(n){var t=this,o=n.name,a=n.getValue,u=n.setValue,i=n.formatter,l=n.validators,c=void 0===l?[]:l,f=n.updatingKey,s=void 0===f?"":f,d=n.enableOnChangeValidation,v=n.onValidate,p=y().state,m=p.formValue,V=p.errors,g=p.inProcess,w=p.addValidator,x=p.removeValidator,S=p.lift,E=b().update,F=a(m),k=(0,e.useRef)(null),C=V&&V[o]||null,T=(0,e.useMemo)((function(){return{validators:[]}}),[]),A=(0,e.useMemo)((function(){return i({prevValue:F,nextValue:F,node:null})}),[F]),I=(0,e.useMemo)((function(){return M()}),[A]),_="".concat(s,":").concat(I,":").concat(C,":").concat(g);(0,e.useEffect)((function(){return T.validators=c.map((function(e){return O(O({},e),{name:o,getValue:a,nodeRef:k,onValidate:v})})),T.validators.forEach((function(e){return w(e)})),function(){T.validators.forEach((function(e){return x(e)})),T.validators=[]}}),[o]),(0,e.useEffect)((function(){return function(){var e;S({from:"validateField",value:(e={},e[o]=void 0,e)})}}),[]);var K=h((function(e){var r=p.formValue,n=p.notify;u(r,e),n(r),E()})),L=h((function(){return P(t,void 0,void 0,(function(){var e,r,n,t;return R(this,(function(a){switch(a.label){case 0:return e=p.formValue,r=p.validateField,0!==(n=T.validators).length?[3,2]:[4,Promise.resolve(!0)];case 1:return t=a.sent(),[3,4];case 2:return[4,r({name:o,formValue:e,validators:n})];case 3:t=a.sent(),a.label=4;case 4:return[2,t]}}))}))})),N=h((function(e){var r=i({prevValue:A,nextValue:e,node:k.current});K(r),d&&P(t,void 0,void 0,(function(){return R(this,(function(e){switch(e.label){case 0:return[4,L()];case 1:return[2,e.sent()]}}))}))}));return r().createElement(j,O({},n,{updatingKey:_,nodeRef:k,value:A,error:C,notify:K,validate:L,onChange:N}))}k.defaultProps={formatter:function(e){return e.nextValue},onValidate:function(){}};var j=(0,e.memo)((function(e){var r=e.name,n=e.nodeRef,t=e.value,o=e.error;return(0,e.children)({name:r,nodeRef:n,value:t,error:o,validate:e.validate,notify:e.notify,onChange:e.onChange})}),(function(e,r){return e.updatingKey===r.updatingKey})),C=0,M=function(){return++C},T=function(e){var r="function"==typeof Symbol&&Symbol.iterator,n=r&&e[r],t=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&t>=e.length&&(e=void 0),{value:e&&e[t++],done:!e}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")};function A(n){var t=this,o=n.name,a=n.connectedRef,i=n.getValue,f=n.setValue,s=n.getKey,v=n.interrupt,p=n.renderTrigger,m=n.triggerPosition,b=n.children,V=y().state,g=V.formValue,w=V.modify,x=V.notify,S=V.inProcess,E=V.addValidator,O=V.removeValidator,P=V.addResetFn,R=V.removeResetFn,k=V.lift,j=i(g),C=(0,e.useRef)({}),M=(0,e.useMemo)((function(){return{shouldFocusIdx:-1}}),[]);(0,e.useEffect)((function(){var e={name:o,method:function(){return e=t,r=void 0,o=function(){var e,r,n,t,o,a,u,i,l;return function(e,r){var n,t,o,a,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function i(a){return function(i){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;u;)try{if(n=1,t&&(o=2&a[0]?t.return:a[0]?t.throw||((o=t.return)&&o.call(t),0):t.next)&&!(o=o.call(t,a[1])).done)return o;switch(t=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return u.label++,{value:a[1],done:!1};case 5:u.label++,t=a[1],a=[0];continue;case 7:a=u.ops.pop(),u.trys.pop();continue;default:if(!((o=(o=u.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){u=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){u.label=a[1];break}if(6===a[0]&&u.label<o[1]){u.label=o[1],o=a;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(a);break}o[2]&&u.ops.pop(),u.trys.pop();continue}a=r.call(e,u)}catch(e){a=[6,e],t=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,i])}}}(this,(function(c){switch(c.label){case 0:e=[],r=d(C.current),c.label=1;case 1:c.trys.push([1,6,7,8]),n=T(r),t=n.next(),c.label=2;case 2:return t.done?[3,5]:[4,(o=t.value).validate(o.getFormValue(),!0)];case 3:if(a=c.sent(),e.push(a),!a&&v)return[3,5];c.label=4;case 4:return t=n.next(),[3,2];case 5:return[3,8];case 6:return u=c.sent(),i={error:u},[3,8];case 7:try{t&&!t.done&&(l=n.return)&&l.call(n)}finally{if(i)throw i.error}return[7];case 8:return[2,e.every((function(e){return e}))]}}))},new((n=void 0)||(n=Promise))((function(t,a){function u(e){try{l(o.next(e))}catch(e){a(e)}}function i(e){try{l(o.throw(e))}catch(e){a(e)}}function l(e){var r;e.done?t(e.value):(r=e.value,r instanceof n?r:new n((function(e){e(r)}))).then(u,i)}l((o=o.apply(e,r||[])).next())}));var e,r,n,o},message:u,getValue:function(){return null}};return E(e),function(){return O(e)}}),[]),(0,e.useEffect)((function(){var e=function(){d(C.current).forEach((function(e){return e.reset()}))};return P(e),function(){return R(e)}}),[]),(0,e.useEffect)((function(){M.shouldFocusIdx=-1}));var A=function(e){return function(){delete C.current[e]}},I=function(e){return function(r){var n=r.formValue,t=V.formValue,o=i(t);o[e]=n,f(t,o),x(t)}},_=h((function(e,r){var n=V.formValue,t=i(n);t.push(e),f(n,t),w(n),r&&(M.shouldFocusIdx=t.length-1)})),K=h((function(e,r){var n=V.formValue,t=i(n);t.unshift(e),f(n,t),w(n),r&&(M.shouldFocusIdx=0)})),L=h((function(e,r,n){var t=V.formValue,o=i(t);o.splice(e,0,r),f(t,o),w(t),n&&(M.shouldFocusIdx=e)})),N=h((function(e,r){var n=V.formValue,t=i(n),o=t[e],a=t[r];o&&a&&(t[e]=a,t[r]=o,f(n,t),w(n))})),U=h((function(e){var r,n,t=V.formValue,o=Array.isArray(e)?e:[e],a=i(t);try{for(var u=T(o),l=u.next();!l.done;l=u.next()){var c=l.value;a.splice(c,1)}}catch(e){r={error:e}}finally{try{l&&!l.done&&(n=u.return)&&n.call(u)}finally{if(r)throw r.error}}f(t,a),w(t)}));(0,e.useImperativeHandle)(a,(function(){return{append:_,prepend:K,insert:L,swap:N,remove:U}}));var q="after"===m,z=!q,G=1===j.length,H=j.length;return r().createElement(r().Fragment,null,z&&l(p)&&p({size:H,append:_,prepend:K,insert:L,swap:N,remove:U,inProcess:S}),j.map((function(e,n){var t=s(e),o=0===n,a=n===j.length-1,u=n%2==0,i=!u,l=M.shouldFocusIdx===n;return r().createElement(F,{key:t,connectedRef:function(e){C.current[t]=e},initialFormValue:e,onChange:I(n),onUnmount:A(t),onLift:k,onSubmit:c},(function(e){var r=e.formValue,c=e.errors,f=e.inProcess;return b({key:t,idx:n,isFirst:o,isLast:a,isEven:u,isOdd:i,isSingle:G,size:H,shouldFocus:l,formValue:r,errors:c,inProcess:f,remove:U})}))})),q&&l(p)&&p({size:H,append:_,prepend:K,insert:L,swap:N,remove:U,inProcess:S}))}A.defaultProps={triggerPosition:"after"};var I=function(){var n=V(),t=n.formValue,o=n.errors,a=(0,e.useMemo)((function(){return{display:"block",backgroundColor:"#efefef",padding:16,marginTop:0,marginBottom:0}}),[]),u=(0,e.useMemo)((function(){return JSON.stringify({errors:o,formValue:t},null,2)}),[t,o]);return r().createElement("pre",{style:a},u)}})(),o})()));
//# sourceMappingURL=react-cool-forms.production.min.js.map