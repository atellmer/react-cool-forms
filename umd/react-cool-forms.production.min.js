!function(e,r){"object"==typeof exports&&"object"==typeof module?module.exports=r(require("react")):"function"==typeof define&&define.amd?define("ReactCoolForms",["react"],r):"object"==typeof exports?exports.ReactCoolForms=r(require("react")):e.ReactCoolForms=r(e.React)}(self,(e=>(()=>{"use strict";var r={787:r=>{r.exports=e}},t={};function n(e){var o=t[e];if(void 0!==o)return o.exports;var a=t[e]={exports:{}};return r[e](a,a.exports,n),a.exports}n.n=e=>{var r=e&&e.__esModule?()=>e.default:()=>e;return n.d(r,{a:r}),r},n.d=(e,r)=>{for(var t in r)n.o(r,t)&&!n.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:r[t]})},n.o=(e,r)=>Object.prototype.hasOwnProperty.call(e,r),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var o={};return(()=>{n.r(o),n.d(o,{Field:()=>v,Form:()=>i,useFormScope:()=>f,useFormState:()=>s});var e=n(787),r=n.n(e),t=function(){return t=Object.assign||function(e){for(var r,t=1,n=arguments.length;t<n;t++)for(var o in r=arguments[t])Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o]);return e},t.apply(this,arguments)};function a(e){var r="object"==typeof e,n=r?Array.isArray(e)?function(e,r,t){if(t||2===arguments.length)for(var n,o=0,a=r.length;o<a;o++)!n&&o in r||(n||(n=Array.prototype.slice.call(r,0,o)),n[o]=r[o]);return e.concat(n||Array.prototype.slice.call(r))}([],function(e,r){var t="function"==typeof Symbol&&e[Symbol.iterator];if(!t)return e;var n,o,a=t.call(e),u=[];try{for(;(void 0===r||r-- >0)&&!(n=a.next()).done;)u.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(t=a.return)&&t.call(a)}finally{if(o)throw o.error}}return u}(e),!1):e?t({},e):e:e;return n&&r&&Object.keys(n).forEach((function(e){return n[e]=a(n[e])})),n}var u=function(){return u=Object.assign||function(e){for(var r,t=1,n=arguments.length;t<n;t++)for(var o in r=arguments[t])Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o]);return e},u.apply(this,arguments)},l=function(e,r){var t="function"==typeof Symbol&&e[Symbol.iterator];if(!t)return e;var n,o,a=t.call(e),u=[];try{for(;(void 0===r||r-- >0)&&!(n=a.next()).done;)u.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(t=a.return)&&t.call(a)}finally{if(o)throw o.error}}return u};function i(t){var n=this,o=t.initialValue,i=t.connectedRef,f=t.interruptValidation,s=t.children,p=t.onValidate,y=t.onChange,v=t.onSubmit,d=l((0,e.useState)(a(o)),2),m=d[0],b=d[1],h=l((0,e.useState)(null),2),g=h[0],S=h[1],x=l((0,e.useState)(!1),2),w=x[0],V=x[1],j=(0,e.useCallback)((function(e){var r=u({},e);b(r),y({formValue:r})}),[y]),C=(0,e.useCallback)((function(){S(null),j(a(o))}),[y]),O=(0,e.useCallback)((function(e){return new Promise((function(r){return t=n,o=void 0,l=function(){var t,n,o,a,l,i,c,s,y,v,d;return function(e,r){var t,n,o,a,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(t)throw new TypeError("Generator is already executing.");for(;u;)try{if(t=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return u.label++,{value:a[1],done:!1};case 5:u.label++,n=a[1],a=[0];continue;case 7:a=u.ops.pop(),u.trys.pop();continue;default:if(!((o=(o=u.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){u=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){u.label=a[1];break}if(6===a[0]&&u.label<o[1]){u.label=o[1],o=a;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(a);break}o[2]&&u.ops.pop(),u.trys.pop();continue}a=r.call(e,u)}catch(e){a=[6,e],n=0}finally{t=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}}(this,(function(m){switch(m.label){case 0:if(t=null,n=[],0===k.validators.length)return t&&S(null),p({formValue:e,errors:null,isValid:!0}),[2,r(!0)];m.label=1;case 1:m.trys.push([1,6,7,8]),o=function(e){var r="function"==typeof Symbol&&Symbol.iterator,t=r&&e[r],n=0;if(t)return t.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")}(k.validators),a=o.next(),m.label=2;case 2:return a.done?[3,5]:(l=a.value,i=l.getValue(e),[4,l.method({formValue:e,value:i})]);case 3:if(c=m.sent(),n.push(c),!c&&(t||(t={}),t[l.name]||(t[l.name]=l.message),f))return[3,5];m.label=4;case 4:return a=o.next(),[3,2];case 5:return[3,8];case 6:return s=m.sent(),v={error:s},[3,8];case 7:try{a&&!a.done&&(d=o.return)&&d.call(o)}finally{if(v)throw v.error}return[7];case 8:return(y=n.every((function(e){return e})))?g&&S(null):S(u({},t)),p({formValue:e,errors:t,isValid:y}),r(y),[2]}}))},new((a=void 0)||(a=Promise))((function(e,r){function n(e){try{i(l.next(e))}catch(e){r(e)}}function u(e){try{i(l.throw(e))}catch(e){r(e)}}function i(r){var t;r.done?e(r.value):(t=r.value,t instanceof a?t:new a((function(e){e(t)}))).then(n,u)}i((l=l.apply(t,o||[])).next())}));var t,o,a,l}))}),[g,p]),P=(0,e.useCallback)((function(){V(!0),O(m).then((function(e){e&&v({formValue:m}),V(!1)}))}),[m]),k=(0,e.useMemo)((function(){return{formValue:m,errors:g,isSubmiting:w,modify:j,validate:O,submit:P,reset:C,validators:[]}}),[]);k.formValue=m,k.errors=g,k.isSubmiting=w,k.modify=j,k.validate=O,k.submit=P,k.reset=C;var F=(0,e.useMemo)((function(){return{scope:k}}),[m,g]);return(0,e.useImperativeHandle)(i,(function(){return{getFormValue:function(){return m},modify:j,validate:O,submit:P,reset:C}})),r().createElement(c.Provider,{value:F},s({formValue:m,errors:g,isSubmiting:w,reset:C,submit:P}))}i.defaultProps={onValidate:function(){},onChange:function(){}};var c=(0,e.createContext)(null);function f(){return(0,e.useContext)(c)}function s(){var r=(0,e.useContext)(c).scope;return u({},r)}var p=function(){return p=Object.assign||function(e){for(var r,t=1,n=arguments.length;t<n;t++)for(var o in r=arguments[t])Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o]);return e},p.apply(this,arguments)},y=function(e,r){var t="function"==typeof Symbol&&e[Symbol.iterator];if(!t)return e;var n,o,a=t.call(e),u=[];try{for(;(void 0===r||r-- >0)&&!(n=a.next()).done;)u.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(t=a.return)&&t.call(a)}finally{if(o)throw o.error}}return u};function v(t){var n=t.name,o=t.getValue,a=t.setValue,u=t.validators,l=void 0===u?[]:u,i=t.updatingKey,c=void 0===i?"":i,s=f().scope,v=s.formValue,m=s.errors,b=s.isSubmiting,h=o(v),g=m&&m[n]||null,S="".concat(c,":").concat(h,":").concat(g,":").concat(b);(0,e.useEffect)((function(){var e,r=l.map((function(e){return p(p({},e),{name:n,getValue:o})}));return(e=s.validators).push.apply(e,function(e,r,t){if(t||2===arguments.length)for(var n,o=0,a=r.length;o<a;o++)!n&&o in r||(n||(n=Array.prototype.slice.call(r,0,o)),n[o]=r[o]);return e.concat(n||Array.prototype.slice.call(r))}([],y(r),!1)),function(){var e=y(r,1)[0],t=s.validators.findIndex((function(r){return r===e}));-1!==t&&s.validators.splice(t,l.length)}}),[]);var x=(0,e.useCallback)((function(e){var r=s.formValue,t=s.modify;a(r,e),t(r)}),[]);return r().createElement(d,p({},t,{updatingKey:S,value:h,error:g,onChange:x}))}var d=(0,e.memo)((function(e){var r=e.value,t=e.error;return(0,e.children)({value:r,error:t,onChange:e.onChange})}),(function(e,r){return e.updatingKey===r.updatingKey}))})(),o})()));
//# sourceMappingURL=react-cool-forms.production.min.js.map